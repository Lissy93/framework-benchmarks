{% extends "base.html" %}

{% block title %}{{ framework.name }} - {{ config.website.title }}{% endblock %}
{% block description %}Learn about {{ framework.name }}, explore the weather app implementation, and view performance metrics.{% endblock %}

{% block content %}
<div class="framework-page">
    <section class="framework-header">
        <div class="framework-hero">
            <div class="framework-icon-large">
                {% if framework.icon %}
                <img src="{{ url_for_static('images/frameworks/' + framework.id + '.svg') }}" 
                     alt="{{ framework.name }} logo" 
                     onerror="this.style.display='none'; this.nextElementSibling.style.display='block';">
                <div class="framework-fallback-large" style="display: none;">{{ framework.name[0] }}</div>
                {% else %}
                <div class="framework-fallback-large">{{ framework.name[0] }}</div>
                {% endif %}
            </div>
            
            <div class="framework-info">
                <h2>{{ framework.name }}</h2>
                <p class="framework-tagline">{{ framework.description or "A modern frontend framework" }}</p>
                
                <div class="framework-meta-large">
                    {% if framework.category %}
                    <span class="meta-item">
                        <strong>Category:</strong> {{ framework.category }}
                    </span>
                    {% endif %}
                    {% if framework.version %}
                    <span class="meta-item">
                        <strong>Version:</strong> {{ framework.version }}
                    </span>
                    {% endif %}
                    {% if framework.website %}
                    <span class="meta-item">
                        <strong>Website:</strong> <a href="{{ framework.website }}" target="_blank">{{ framework.website }}</a>
                    </span>
                    {% endif %}
                </div>
                
                <div class="framework-actions-large">
                    <a href="/{{ framework.id }}/app" class="btn btn-primary btn-large">
                        <span>Try Weather App</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M7 17L17 7M17 7H7M17 7V17"/>
                        </svg>
                    </a>
                    <a href="/{{ framework.id }}/source" class="btn btn-secondary btn-large">
                        <span>View Source Code</span>
                        <svg width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <path d="M16 18L22 12L16 6M8 6L2 12L8 18"/>
                        </svg>
                    </a>
                </div>
            </div>
        </div>
    </section>
    
    {% if framework_stats %}
    <section class="framework-stats">
        <h3>Performance Metrics</h3>
        <div class="stats-grid">
            {% if framework_stats.lighthouse %}
            <div class="stat-card">
                <h4>Lighthouse Score</h4>
                <div class="stat-value">{{ framework_stats.lighthouse.performance }}%</div>
                <div class="stat-label">Performance</div>
            </div>
            {% endif %}
            
            {% if framework_stats.bundle_size %}
            <div class="stat-card">
                <h4>Bundle Size</h4>
                <div class="stat-value">{{ framework_stats.bundle_size.total_gzipped | filesizeformat }}</div>
                <div class="stat-label">Gzipped</div>
            </div>
            {% endif %}
            
            {% if framework_stats.build_time %}
            <div class="stat-card">
                <h4>Build Time</h4>
                <div class="stat-value">{{ framework_stats.build_time.duration }}s</div>
                <div class="stat-label">Average</div>
            </div>
            {% endif %}
        </div>
    </section>
    {% endif %}
    
    <section class="framework-details">
        <div class="details-grid">
            <div class="detail-section">
                <h3>About {{ framework.name }}</h3>
                <div class="detail-content">
                    {% if framework.description %}
                    <p>{{ framework.description }}</p>
                    {% else %}
                    <p>{{ framework.name or framework.displayName }} is a modern frontend framework that helps developers build fast, scalable web applications. This weather app demonstrates its capabilities in a real-world scenario.</p>
                    {% endif %}
                    
                    {% if framework.meta and framework.meta.website %}
                    <h4>Official Resources</h4>
                    <ul>
                        <li><strong>Website:</strong> <a href="{{ framework.meta.website }}" target="_blank">{{ framework.meta.website }}</a></li>
                        {% if framework.meta.github %}
                        <li><strong>GitHub:</strong> <a href="{{ framework.meta.github }}" target="_blank">{{ framework.meta.github }}</a></li>
                        {% endif %}
                    </ul>
                    {% endif %}
                </div>
            </div>
            
            <div class="detail-section">
                <h3>Implementation Details</h3>
                <div class="detail-content">
                    <h4>Build Configuration</h4>
                    <ul>
                        <li><strong>Build Command:</strong> <code>{{ framework.build.buildCommand or "npm run build" }}</code></li>
                        <li><strong>Build Directory:</strong> <code>{{ framework.buildDir or "dist" }}</code></li>
                        <li><strong>Has Node Modules:</strong> {{ "Yes" if framework.build.hasNodeModules else "No" }}</li>
                    </ul>
                    
                    <h4>Development</h4>
                    <ul>
                        <li><strong>Dev Command:</strong> <code>{{ framework.build.devCommand or "npm run dev" }}</code></li>
                        <li><strong>Test Command:</strong> <code>{{ framework.build.testCommand or "npm test" }}</code></li>
                        {% if framework.build.lintFiles %}
                        <li><strong>Lint Files:</strong> {{ framework.build.lintFiles | join(', ') }}</li>
                        {% endif %}
                    </ul>
                </div>
            </div>
        </div>
    </section>
    
    <section class="framework-navigation">
        <div class="nav-grid">
            {% if prev_framework %}
            <a href="/{{ prev_framework.id }}" class="nav-item nav-prev">
                <div class="nav-label">Previous</div>
                <div class="nav-title">{{ prev_framework.name }}</div>
            </a>
            {% endif %}
            
            <a href="/" class="nav-item nav-home">
                <div class="nav-label">All Frameworks</div>
                <div class="nav-title">Back to Homepage</div>
            </a>
            
            {% if next_framework %}
            <a href="/{{ next_framework.id }}" class="nav-item nav-next">
                <div class="nav-label">Next</div>
                <div class="nav-title">{{ next_framework.name }}</div>
            </a>
            {% endif %}
        </div>
    </section>
</div>
{% endblock %}

{% block extra_css %}
<link rel="stylesheet" href="{{ url_for_static('css/framework.css') }}">
{% endblock %}