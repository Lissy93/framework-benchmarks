{"ast":null,"code":"import { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\nimport { SearchFormComponent } from './components/search-form.component';\nimport { LoadingStateComponent } from './components/loading-state.component';\nimport { ErrorStateComponent } from './components/error-state.component';\nimport { WeatherContentComponent } from './components/weather-content.component';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"./services/weather-state.service\";\nexport class AppComponent {\n  constructor(weatherStateService) {\n    this.weatherStateService = weatherStateService;\n    this.state = {\n      weatherData: null,\n      isLoading: false,\n      error: null\n    };\n    this.destroy$ = new Subject();\n  }\n  ngOnInit() {\n    this.weatherStateService.state$.pipe(takeUntil(this.destroy$)).subscribe(state => {\n      this.state = state;\n    });\n  }\n  ngOnDestroy() {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n  onSearch(city) {\n    this.weatherStateService.loadWeather(city);\n  }\n  static {\n    this.ɵfac = function AppComponent_Factory(t) {\n      return new (t || AppComponent)(i0.ɵɵdirectiveInject(i1.WeatherStateService));\n    };\n  }\n  static {\n    this.ɵcmp = /*@__PURE__*/i0.ɵɵdefineComponent({\n      type: AppComponent,\n      selectors: [[\"app-root\"]],\n      standalone: true,\n      features: [i0.ɵɵStandaloneFeature],\n      decls: 17,\n      vars: 6,\n      consts: [[1, \"header\"], [1, \"container\"], [1, \"header__title\"], [1, \"main\"], [3, \"search\", \"isLoading\"], [\"data-testid\", \"weather-container\", 1, \"weather-container\"], [3, \"isVisible\"], [3, \"isVisible\", \"message\"], [3, \"isVisible\", \"weatherData\"], [1, \"footer\"], [1, \"footer__text\"], [\"href\", \"https://github.com/Lissy93\", \"target\", \"_blank\", \"rel\", \"noopener\", 1, \"footer__link\"]],\n      template: function AppComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          i0.ɵɵelementStart(0, \"header\", 0)(1, \"div\", 1)(2, \"h1\", 2);\n          i0.ɵɵtext(3, \"Weather Front\");\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(4, \"main\", 3)(5, \"div\", 1)(6, \"app-search-form\", 4);\n          i0.ɵɵlistener(\"search\", function AppComponent_Template_app_search_form_search_6_listener($event) {\n            return ctx.onSearch($event);\n          });\n          i0.ɵɵelementEnd();\n          i0.ɵɵelementStart(7, \"div\", 5);\n          i0.ɵɵelement(8, \"app-loading-state\", 6)(9, \"app-error-state\", 7)(10, \"app-weather-content\", 8);\n          i0.ɵɵelementEnd()()();\n          i0.ɵɵelementStart(11, \"footer\", 9)(12, \"div\", 1)(13, \"p\", 10);\n          i0.ɵɵtext(14, \" Built with Angular \\u2022 MIT License \\u2022 \");\n          i0.ɵɵelementStart(15, \"a\", 11);\n          i0.ɵɵtext(16, \" Alicia Sykes \");\n          i0.ɵɵelementEnd()()()();\n        }\n        if (rf & 2) {\n          i0.ɵɵadvance(6);\n          i0.ɵɵproperty(\"isLoading\", ctx.state.isLoading);\n          i0.ɵɵadvance(2);\n          i0.ɵɵproperty(\"isVisible\", ctx.state.isLoading);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"isVisible\", !!ctx.state.error && !ctx.state.isLoading)(\"message\", ctx.state.error);\n          i0.ɵɵadvance();\n          i0.ɵɵproperty(\"isVisible\", !!ctx.state.weatherData && !ctx.state.isLoading && !ctx.state.error)(\"weatherData\", ctx.state.weatherData);\n        }\n      },\n      dependencies: [CommonModule, SearchFormComponent, LoadingStateComponent, ErrorStateComponent, WeatherContentComponent],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["CommonModule","Subject","takeUntil","SearchFormComponent","LoadingStateComponent","ErrorStateComponent","WeatherContentComponent","AppComponent","constructor","weatherStateService","state","weatherData","isLoading","error","destroy$","ngOnInit","state$","pipe","subscribe","ngOnDestroy","next","complete","onSearch","city","loadWeather","i0","ɵɵdirectiveInject","i1","WeatherStateService","selectors","standalone","features","ɵɵStandaloneFeature","decls","vars","consts","template","AppComponent_Template","rf","ctx","ɵɵelementStart","ɵɵtext","ɵɵelementEnd","ɵɵlistener","AppComponent_Template_app_search_form_search_6_listener","$event","ɵɵelement","ɵɵadvance","ɵɵproperty","encapsulation"],"sources":["/home/alicia/Documents/code/weather-front/apps/angular/src/app/app.component.ts"],"sourcesContent":["import { Component, OnInit, OnDestroy } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { Subject } from 'rxjs';\nimport { takeUntil } from 'rxjs/operators';\n\nimport { WeatherStateService } from './services/weather-state.service';\nimport { AppState } from './types/weather.types';\n\nimport { SearchFormComponent } from './components/search-form.component';\nimport { LoadingStateComponent } from './components/loading-state.component';\nimport { ErrorStateComponent } from './components/error-state.component';\nimport { WeatherContentComponent } from './components/weather-content.component';\n\n@Component({\n  selector: 'app-root',\n  standalone: true,\n  imports: [\n    CommonModule,\n    SearchFormComponent,\n    LoadingStateComponent,\n    ErrorStateComponent,\n    WeatherContentComponent\n  ],\n  template: `\n    <header class=\"header\">\n      <div class=\"container\">\n        <h1 class=\"header__title\">Weather Front</h1>\n      </div>\n    </header>\n\n    <main class=\"main\">\n      <div class=\"container\">\n        <app-search-form \n          [isLoading]=\"state.isLoading\"\n          (search)=\"onSearch($event)\"\n        ></app-search-form>\n\n        <div class=\"weather-container\" data-testid=\"weather-container\">\n          <app-loading-state [isVisible]=\"state.isLoading\"></app-loading-state>\n          \n          <app-error-state \n            [isVisible]=\"!!state.error && !state.isLoading\" \n            [message]=\"state.error\"\n          ></app-error-state>\n          \n          <app-weather-content \n            [isVisible]=\"!!state.weatherData && !state.isLoading && !state.error\"\n            [weatherData]=\"state.weatherData\"\n          ></app-weather-content>\n        </div>\n      </div>\n    </main>\n\n    <footer class=\"footer\">\n      <div class=\"container\">\n        <p class=\"footer__text\">\n          Built with Angular • MIT License • \n          <a href=\"https://github.com/Lissy93\" class=\"footer__link\" target=\"_blank\" rel=\"noopener\">\n            Alicia Sykes\n          </a>\n        </p>\n      </div>\n    </footer>\n  `\n})\nexport class AppComponent implements OnInit, OnDestroy {\n  state: AppState = {\n    weatherData: null,\n    isLoading: false,\n    error: null\n  };\n\n  private destroy$ = new Subject<void>();\n\n  constructor(private weatherStateService: WeatherStateService) {}\n\n  ngOnInit(): void {\n    this.weatherStateService.state$\n      .pipe(takeUntil(this.destroy$))\n      .subscribe(state => {\n        this.state = state;\n      });\n  }\n\n  ngOnDestroy(): void {\n    this.destroy$.next();\n    this.destroy$.complete();\n  }\n\n  onSearch(city: string): void {\n    this.weatherStateService.loadWeather(city);\n  }\n}"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}