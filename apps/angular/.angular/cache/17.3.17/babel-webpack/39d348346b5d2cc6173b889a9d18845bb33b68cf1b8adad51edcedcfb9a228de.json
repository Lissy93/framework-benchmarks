{"ast":null,"code":"import { EventEmitter } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\nimport * as i0 from \"@angular/core\";\nimport * as i1 from \"@angular/forms\";\nconst _c0 = [\"locationInput\"];\nexport class SearchFormComponent {\n  constructor() {\n    this.isLoading = false;\n    this.search = new EventEmitter();\n  }\n  ngAfterViewInit() {\n    // Set initial value from localStorage\n    const savedLocation = this.getSavedLocation();\n    if (savedLocation) {\n      this.locationInput.nativeElement.value = savedLocation;\n    } else {\n      this.locationInput.nativeElement.value = 'London';\n    }\n  }\n  onSubmit() {\n    const city = this.locationInput.nativeElement.value?.trim();\n    if (!city) {\n      return;\n    }\n    this.search.emit(city);\n  }\n  getSavedLocation() {\n    try {\n      return localStorage.getItem('weather-app-location');\n    } catch (error) {\n      console.warn('Could not load saved location:', error);\n      return null;\n    }\n  }\n  static {\n    this.…µfac = function SearchFormComponent_Factory(t) {\n      return new (t || SearchFormComponent)();\n    };\n  }\n  static {\n    this.…µcmp = /*@__PURE__*/i0.…µ…µdefineComponent({\n      type: SearchFormComponent,\n      selectors: [[\"app-search-form\"]],\n      viewQuery: function SearchFormComponent_Query(rf, ctx) {\n        if (rf & 1) {\n          i0.…µ…µviewQuery(_c0, 5);\n        }\n        if (rf & 2) {\n          let _t;\n          i0.…µ…µqueryRefresh(_t = i0.…µ…µloadQuery()) && (ctx.locationInput = _t.first);\n        }\n      },\n      inputs: {\n        isLoading: \"isLoading\"\n      },\n      outputs: {\n        search: \"search\"\n      },\n      standalone: true,\n      features: [i0.…µ…µStandaloneFeature],\n      decls: 12,\n      vars: 2,\n      consts: [[\"locationInput\", \"\"], [1, \"search-section\"], [\"data-testid\", \"search-form\", 1, \"search-form\", 3, \"ngSubmit\"], [1, \"search-form__group\"], [\"for\", \"location-input\", 1, \"sr-only\"], [\"type\", \"text\", \"id\", \"location-input\", \"placeholder\", \"Enter city name...\", \"data-testid\", \"search-input\", \"autocomplete\", \"off\", 1, \"search-input\"], [\"type\", \"submit\", \"data-testid\", \"search-button\", 1, \"search-button\", 3, \"disabled\"], [1, \"search-button__text\"], [1, \"search-button__icon\"]],\n      template: function SearchFormComponent_Template(rf, ctx) {\n        if (rf & 1) {\n          const _r1 = i0.…µ…µgetCurrentView();\n          i0.…µ…µelementStart(0, \"section\", 1)(1, \"form\", 2);\n          i0.…µ…µlistener(\"ngSubmit\", function SearchFormComponent_Template_form_ngSubmit_1_listener() {\n            i0.…µ…µrestoreView(_r1);\n            return i0.…µ…µresetView(ctx.onSubmit());\n          });\n          i0.…µ…µelementStart(2, \"div\", 3)(3, \"label\", 4);\n          i0.…µ…µtext(4, \"Enter city name\");\n          i0.…µ…µelementEnd();\n          i0.…µ…µelement(5, \"input\", 5, 0);\n          i0.…µ…µelementStart(7, \"button\", 6)(8, \"span\", 7);\n          i0.…µ…µtext(9);\n          i0.…µ…µelementEnd();\n          i0.…µ…µelementStart(10, \"span\", 8);\n          i0.…µ…µtext(11, \"\\uD83C\\uDF26\\uFE0F\");\n          i0.…µ…µelementEnd()()()()();\n        }\n        if (rf & 2) {\n          i0.…µ…µadvance(7);\n          i0.…µ…µproperty(\"disabled\", ctx.isLoading);\n          i0.…µ…µadvance(2);\n          i0.…µ…µtextInterpolate1(\" \", ctx.isLoading ? \"Loading...\" : \"Get Weather\", \" \");\n        }\n      },\n      dependencies: [CommonModule, FormsModule, i1.…µNgNoValidate, i1.NgControlStatusGroup, i1.NgForm],\n      encapsulation: 2\n    });\n  }\n}","map":{"version":3,"names":["EventEmitter","CommonModule","FormsModule","SearchFormComponent","constructor","isLoading","search","ngAfterViewInit","savedLocation","getSavedLocation","locationInput","nativeElement","value","onSubmit","city","trim","emit","localStorage","getItem","error","console","warn","selectors","viewQuery","SearchFormComponent_Query","rf","ctx","i0","…µ…µelementStart","…µ…µlistener","SearchFormComponent_Template_form_ngSubmit_1_listener","…µ…µrestoreView","_r1","…µ…µresetView","…µ…µtext","…µ…µelementEnd","…µ…µelement","…µ…µadvance","…µ…µproperty","…µ…µtextInterpolate1","i1","…µNgNoValidate","NgControlStatusGroup","NgForm","encapsulation"],"sources":["/home/alicia/Documents/code/weather-front/apps/angular/src/app/components/search-form.component.ts"],"sourcesContent":["import { Component, Output, EventEmitter, Input, ElementRef, ViewChild, AfterViewInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule } from '@angular/forms';\n\n@Component({\n  selector: 'app-search-form',\n  standalone: true,\n  imports: [CommonModule, FormsModule],\n  template: `\n    <section class=\"search-section\">\n      <form class=\"search-form\" data-testid=\"search-form\" (ngSubmit)=\"onSubmit()\">\n        <div class=\"search-form__group\">\n          <label for=\"location-input\" class=\"sr-only\">Enter city name</label>\n          <input \n            #locationInput\n            type=\"text\" \n            id=\"location-input\"\n            class=\"search-input\" \n            placeholder=\"Enter city name...\"\n            data-testid=\"search-input\"\n            autocomplete=\"off\"\n          />\n          <button \n            type=\"submit\" \n            class=\"search-button\" \n            data-testid=\"search-button\"\n            [disabled]=\"isLoading\"\n          >\n            <span class=\"search-button__text\">\n              {{ isLoading ? 'Loading...' : 'Get Weather' }}\n            </span>\n            <span class=\"search-button__icon\">üå¶Ô∏è</span>\n          </button>\n        </div>\n      </form>\n    </section>\n  `\n})\nexport class SearchFormComponent implements AfterViewInit {\n  @Input() isLoading = false;\n  @Output() search = new EventEmitter<string>();\n  @ViewChild('locationInput') locationInput!: ElementRef<HTMLInputElement>;\n\n  ngAfterViewInit(): void {\n    // Set initial value from localStorage\n    const savedLocation = this.getSavedLocation();\n    if (savedLocation) {\n      this.locationInput.nativeElement.value = savedLocation;\n    } else {\n      this.locationInput.nativeElement.value = 'London';\n    }\n  }\n\n  onSubmit(): void {\n    const city = this.locationInput.nativeElement.value?.trim();\n    \n    if (!city) {\n      return;\n    }\n    \n    this.search.emit(city);\n  }\n\n  private getSavedLocation(): string | null {\n    try {\n      return localStorage.getItem('weather-app-location');\n    } catch (error) {\n      console.warn('Could not load saved location:', error);\n      return null;\n    }\n  }\n}"],"mappings":"AAAA,SAA4BA,YAAY,QAAqD,eAAe;AAC5G,SAASC,YAAY,QAAQ,iBAAiB;AAC9C,SAASC,WAAW,QAAQ,gBAAgB;;;;AAoC5C,OAAM,MAAOC,mBAAmB;EAlChCC,YAAA;IAmCW,KAAAC,SAAS,GAAG,KAAK;IAChB,KAAAC,MAAM,GAAG,IAAIN,YAAY,EAAU;;EAG7CO,eAAeA,CAAA;IACb;IACA,MAAMC,aAAa,GAAG,IAAI,CAACC,gBAAgB,EAAE;IAC7C,IAAID,aAAa,EAAE;MACjB,IAAI,CAACE,aAAa,CAACC,aAAa,CAACC,KAAK,GAAGJ,aAAa;KACvD,MAAM;MACL,IAAI,CAACE,aAAa,CAACC,aAAa,CAACC,KAAK,GAAG,QAAQ;;EAErD;EAEAC,QAAQA,CAAA;IACN,MAAMC,IAAI,GAAG,IAAI,CAACJ,aAAa,CAACC,aAAa,CAACC,KAAK,EAAEG,IAAI,EAAE;IAE3D,IAAI,CAACD,IAAI,EAAE;MACT;;IAGF,IAAI,CAACR,MAAM,CAACU,IAAI,CAACF,IAAI,CAAC;EACxB;EAEQL,gBAAgBA,CAAA;IACtB,IAAI;MACF,OAAOQ,YAAY,CAACC,OAAO,CAAC,sBAAsB,CAAC;KACpD,CAAC,OAAOC,KAAK,EAAE;MACdC,OAAO,CAACC,IAAI,CAAC,gCAAgC,EAAEF,KAAK,CAAC;MACrD,OAAO,IAAI;;EAEf;;;uBAhCWhB,mBAAmB;IAAA;EAAA;;;YAAnBA,mBAAmB;MAAAmB,SAAA;MAAAC,SAAA,WAAAC,0BAAAC,EAAA,EAAAC,GAAA;QAAA,IAAAD,EAAA;;;;;;;;;;;;;;;;;;;;;;UA5B1BE,EADF,CAAAC,cAAA,iBAAgC,cAC8C;UAAxBD,EAAA,CAAAE,UAAA,sBAAAC,sDAAA;YAAAH,EAAA,CAAAI,aAAA,CAAAC,GAAA;YAAA,OAAAL,EAAA,CAAAM,WAAA,CAAYP,GAAA,CAAAb,QAAA,EAAU;UAAA,EAAC;UAEvEc,EADF,CAAAC,cAAA,aAAgC,eACc;UAAAD,EAAA,CAAAO,MAAA,sBAAe;UAAAP,EAAA,CAAAQ,YAAA,EAAQ;UACnER,EAAA,CAAAS,SAAA,kBAQE;UAOAT,EANF,CAAAC,cAAA,gBAKC,cACmC;UAChCD,EAAA,CAAAO,MAAA,GACF;UAAAP,EAAA,CAAAQ,YAAA,EAAO;UACPR,EAAA,CAAAC,cAAA,eAAkC;UAAAD,EAAA,CAAAO,MAAA,0BAAG;UAI7CP,EAJ6C,CAAAQ,YAAA,EAAO,EACrC,EACL,EACD,EACC;;;UATFR,EAAA,CAAAU,SAAA,GAAsB;UAAtBV,EAAA,CAAAW,UAAA,aAAAZ,GAAA,CAAArB,SAAA,CAAsB;UAGpBsB,EAAA,CAAAU,SAAA,GACF;UADEV,EAAA,CAAAY,kBAAA,MAAAb,GAAA,CAAArB,SAAA,qCACF;;;qBAvBAJ,YAAY,EAAEC,WAAW,EAAAsC,EAAA,CAAAC,aAAA,EAAAD,EAAA,CAAAE,oBAAA,EAAAF,EAAA,CAAAG,MAAA;MAAAC,aAAA;IAAA;EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}